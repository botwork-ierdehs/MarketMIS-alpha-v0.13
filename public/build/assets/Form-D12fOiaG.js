import{c as ye,o as y,w as q,a as t,b as c,f as x,t as f,d as h,e as k,n as R,p as be,F as Re,r as Ie,H as xe,g as S,u as he,L as _e,i as we,B as ke,j as te,l as Ce}from"./app-BT8JCygI.js";import{m as Se,i as qe,j as ce,h as fe,f as ge,k as pe,a as Me,c as Pe}from"./helper-CoiklTbV.js";import{M as Te,s as Fe}from"./Map-D8raP2uR.js";import{S as De,C as Ee,P as je,D as Ne,d as de}from"./SingleImageUpload-Brd6-NJk.js";import{A as Be}from"./AppLayout-BwNpdR10.js";import{T as Ae}from"./TextInput-BQ7iAE_n.js";import{L as Ve}from"./LoadingButton-pngNNKcF.js";import{I as Ue}from"./InputLabel-BgI2huqF.js";import{I as Le}from"./InputError-CabsvCC3.js";import{M as Oe}from"./MultiSelect-Cr0vLxkC.js";import{C as ze}from"./ConfirmationModal-DtE6bHDK.js";import{S as Ge}from"./SecondaryButton-_kH_xm9B.js";import{_ as Je}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Logo-DmBDO1OI.js";import"./Icons-CXmFZwmz.js";import"./Footer-RxzRf-uW.js";import"./Modal-DZt4hw2D.js";const He={__name:"Form",props:{stallTypes:Object,stallTypesAll:Object,volanteRental:Object,requirements:Object,paymentDetails:Object,fees:Object,auth:Object,total_payments:Object},setup(I,{expose:l}){var A,V,U,L,O,z,G,J,H,X,K,Q,W,Y;l();const b=xe(),e=S([]),ue=S([]),v=S(1),_=S(null),D=S({}),C=S(null),M=S(!1),P=S([]),p=S(!1),T=S(null),a=I,m=()=>qe(b.url),g=()=>(console.log("isReuploadPage(page.url)",ce(b.url)),ce(b.url)),F=()=>(console.log("checkIfRenewal(page.url)",fe(b.url)),fe(b.url)),s=he({type:m()||g()?(V=(A=a==null?void 0:a.volanteRental)==null?void 0:A.permits)==null?void 0:V.permit_type:1,business_name:m()||g()?(U=a==null?void 0:a.volanteRental)==null?void 0:U.name:"",stall_id:m()||g()?(O=(L=a==null?void 0:a.volanteRental)==null?void 0:L.stalls)==null?void 0:O.id:"",requirements:[],acknowledgeContract:m()||g()?(z=a==null?void 0:a.volanteRental)==null?void 0:z.acknowledgeContract:"",reference_number:m()||g()?(J=(G=a==null?void 0:a.volanteRental)==null?void 0:G.paymentRecord)==null?void 0:J.reference_number:"",attachment_signature:[],total_payment:m()||g()?(X=(H=a==null?void 0:a.volanteRental)==null?void 0:H.paymentRecord)==null?void 0:X.total_payments:0,fees:m()||g()?Array.isArray((K=a==null?void 0:a.volanteRental)==null?void 0:K.fees_additional)?(Q=a==null?void 0:a.volanteRental)==null?void 0:Q.fees_additional.map(Number):[]:[],step:v,bulb:m()||g()?(W=a==null?void 0:a.volanteRental)==null?void 0:W.bulb:0,stall_rental_id:m()||g()?(Y=a==null?void 0:a.volanteRental)==null?void 0:Y.id:null}),ae={lesseeName:{page:0,x:160,y:530},lesseeNamePage2:{page:2,x:110,y:370},barangay:{page:0,x:320,y:520},stallNo:{page:0,x:300,y:440},day:{page:2,x:120,y:300},month:{page:2,x:500,y:310},signature:{page:2,x:450,y:200,w:100,h:50}},le=_e(()=>{var u,i;return((i=(u=a.auth)==null?void 0:u.user)==null?void 0:i.first_name.split(" ")).map(r=>r[0]).join("")}),E=()=>{var n,u,i;s.requirements=m()?(n=a==null?void 0:a.volanteRental)==null?void 0:n.requirements.map(r=>({requirement_checklist_id:r.checklist_id,attachment:r.attachment})):e.value.map(r=>({requirement_checklist_id:r.documentType,attachment:r.file})),s.attachment_signature=C.value,s.total_payment=(u=a==null?void 0:a.total_payments)==null?void 0:u.total,s.acknowledgeContract=!0,s.fees_additional=s.fees,p.value=!0,(i=T.value)==null||i.fillContract(),p.value&&s.post(route("applications.volantes.store"),{preserveScroll:!0,onSuccess:async()=>{te.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:r=>{console.error("Form errors:",r)}})},se=async()=>{var u;if(e.value.some(i=>i.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}const n=new FormData;n.append("_method","PUT"),n.append("stall_id",s.stall_id||""),n.append("business_name",s.business_name||""),n.append("type",2),n.append("bulb",s.bulb||0),n.append("total_payment",s.total_payment||""),n.append("acknowledgeContract",s.acknowledgeContract?1:0),e.value.forEach((i,r)=>{n.append(`requirements[${r}][requirement_checklist_id]`,i.documentType),i.file instanceof File&&n.append(`requirements[${r}][attachment]`,i.file)}),s.attachment_signature instanceof File&&n.append("attachment_signature",s.attachment_signature),de.Inertia.post(route("applications.volantes.update",(u=a==null?void 0:a.volanteRental)==null?void 0:u.id),n,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{p.value=!1,te.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:i=>{p.value=!1,console.error("Form errors:",i)}})},j=()=>{var n,u,i;if(g()){if(e.value.some(d=>d.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}const r=new FormData;r.append("_method","PUT"),r.append("stall_id",s.stall_id||""),r.append("business_name",s.business_name||""),r.append("type",s.type||1),r.append("bulb",s.bulb||0),r.append("total_payment",s.total_payment||""),r.append("acknowledgeContract",s.acknowledgeContract?1:0),e.value.forEach((d,w)=>{r.append(`requirements[${w}][requirement_checklist_id]`,d.documentType),d.file instanceof File&&r.append(`requirements[${w}][attachment]`,d.file)}),s.attachment_signature instanceof File&&r.append("attachment_signature",s.attachment_signature),de.Inertia.post(route("applications.volantes.update",(n=a==null?void 0:a.volanteRental)==null?void 0:n.id),r,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{p.value=!1,te.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:d=>{p.value=!1,console.error("Form errors:",d)}})}else{const r=new FormData;if(r.append("_method","PUT"),r.append("stall_id",s.stall_id||""),r.append("business_name",s.business_name||""),r.append("type",s.type||""),r.append("bulb",s.bulb||0),s.fees=pe(s.fees,s.bulb,"edit"),r.append("total_payment",((u=a==null?void 0:a.total_payments)==null?void 0:u.total)||0),r.append("acknowledgeContract",s.acknowledgeContract?1:0),F()){if(r.append("type",2),e.value.some(d=>d.status==="uploading")){s.errors.requirements="Please wait until all files are uploaded.";return}if(e.value.length===0){s.errors.requirements="The requirements are required.";return}e.value.forEach((d,w)=>{r.append(`requirements[${w}][requirement_checklist_id]`,d.documentType),d.file instanceof File&&r.append(`requirements[${w}][attachment]`,d.file)})}s.attachment_signature instanceof File&&r.append("attachment_signature",s.attachment_signature),de.Inertia.post(route("applications.volantes.update",(i=a==null?void 0:a.volanteRental)==null?void 0:i.id),r,{preserveScroll:!0,onStart:()=>{p.value=!0},onSuccess:()=>{var d;p.value=!1,(d=T.value)==null||d.fillContract(),te.visit(route("applications.volantes.index"),{preserveScroll:!0,preserveState:!1})},onError:d=>{p.value=!1,console.error("Form errors:",d)}})}},re=()=>{const n=m()||g();return console.log(n),n?j():E()},ne=()=>{var n,u,i,r,d,w,Z,$;if(v.value===1)m()?v.value++:(s.fees=pe(a.fees,s.bulb),s.post(route("applications.volantes.store"),{preserveState:!0,onSuccess:()=>{v.value++}}));else if(v.value===2)if(m())v.value++;else{const o=((u=(n=a==null?void 0:a.requirements)==null?void 0:n.volante_new)==null?void 0:u.length)||0,ee=e.value.filter(me=>me.status==="uploaded").length,ve=e.value.some(me=>me.status==="uploading");console.log("Required:",o,"Uploaded:",ee,"Uploading:",ve),ve?s.errors.requirements="Please wait until all files are uploaded.":ee<o?s.errors.requirements="Please upload all required documents.":ee===0?s.errors.requirements="The requirements are required.":(s.errors.requirements=null,v.value++)}else v.value===3?(m()||(ue.value=C.value),v.value++):v.value===4&&(s.step=v.value,D.value={lesseeName:ge((i=a==null?void 0:a.auth)==null?void 0:i.user),lesseeNamePage2:ge((r=a==null?void 0:a.auth)==null?void 0:r.user),barangay:(w=(d=a==null?void 0:a.auth)==null?void 0:d.user)==null?void 0:w.address,stallNo:(Z=_==null?void 0:_.value)!=null&&Z.name?($=_==null?void 0:_.value)==null?void 0:$.name:"",signature:C.value,day:new Date().getDate(),month:new Date().getMonth()+1},M.value=!0)},N=n=>{var i;console.log("Selected Stall:",n);const u=a.stallTypesAll.filter(r=>r.name===(n==null?void 0:n.Stall)||r.name===(n==null?void 0:n.name));console.log("val=",u),_.value=u[0],s.stall_id=(i=u[0])==null?void 0:i.id},oe=()=>{M.value=!1},ie=()=>{var n;return g()||F()||m()?(n=a==null?void 0:a.tableRental)==null?void 0:n.name:"Create New"};P.value=a.stallsData||[],we(()=>a.stallTypes,n=>{P.value=Se(n)||[]},{deep:!0,immediate:!0}),ke(()=>{var n;m()&&N((n=a==null?void 0:a.volanteRental)==null?void 0:n.stalls)});const B={page:b,localFileReq:e,localFileSignature:ue,step:v,selectedStall:_,contractData:D,signature:C,isSubmit:M,stallData:P,isGenerating:p,contractRef:T,props:a,checkIfEdit:m,checkIfReupload:g,checkIfRenewal:F,form:s,fieldMap:ae,initials:le,submit:E,renewals:se,update:j,stores:re,nextButton:ne,onStallSelect:N,closeSubmit:oe,titlePage:ie,ref:S,watch:we,computed:_e,onMounted:ke,get Link(){return Ce},get usePage(){return xe},get useForm(){return he},get router(){return te},get formatAmount(){return Pe},get formatDateShort(){return Me},get formatFees(){return pe},get fullName(){return ge},get isEditPage(){return qe},get isRenewalPage(){return fe},get isReuploadPage(){return ce},get mapTablesToGeoJSON(){return Se},get scopeData(){return Fe},get Inertia(){return de.Inertia},AppLayout:Be,TextInput:Ae,LoadingButton:Ve,InputLabel:Ue,InputError:Le,DocumentUpload:Ne,Map:Te,PdfMonitor:je,Contract:Ee,SingleImageUpload:De,MultiSelect:Oe,ConfirmationModal:ze,SecondaryButton:Ge};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}},Xe={class:"mb-8 text-3xl font-bold"},Ke={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Qe={class:"max-w-3xl bg-white rounded-md shadow overflow-hidden"},We={key:0,class:"flex items-center justify-between mt-6"},Ye={class:"flex flex-col items-center text-center w-1/3"},Ze={class:"flex flex-col items-center text-center w-1/3"},$e={class:"flex flex-col items-center text-center w-1/3"},et={class:"flex flex-col items-center text-center w-1/3"},tt={key:0,class:"p-6 space-y-6"},at={class:"flex flex-col md:flex-row gap-4 px-5"},lt={class:"w-full md:w-full"},st={class:"flex flex-col md:flex-row gap-4 px-5"},rt={class:"w-full md:w-full"},nt={class:"px-5"},ot={class:"w-full border p-4 rounded bg-gray-50"},it={class:"relative w-full h-[400px] rounded overflow-hidden"},dt={key:0,class:"flex flex-col md:flex-row gap-4 px-5"},ut={class:"w-full md:w-full"},mt={class:"border p-4 rounded bg-gray-50"},ct={key:1,class:"p-6 space-y-6"},ft={key:2},gt={key:0,class:"p-6 space-y-6"},pt={key:1,class:"p-6 space-y-6"},vt={class:"flex gap-6"},yt={class:"flex flex-col items-center"},bt={class:"w-16 h-16 rounded-full bg-primary text-white flex items-center justify-center font-bold text-lg"},xt={class:"mt-2 text-xs px-2 py-0.5 rounded bg-green-100 text-green-600 font-medium"},ht={class:"flex-1"},_t={class:"text-lg font-semibold text-primary"},wt={class:"text-sm text-gray-600"},kt=["href"],St={class:"text-sm text-gray-600"},qt={class:"grid grid-cols-2 gap-4 text-sm text-gray-700"},Rt={class:"text-gray-600"},It={class:"text-gray-600"},Ct={class:"text-gray-600"},Mt={class:"text-gray-600"},Pt={class:"text-gray-600"},Tt={class:"bg-gray-50 rounded-lg p-4 space-y-2 text-sm"},Ft={class:"space-y-2"},Dt={class:"flex items-center space-x-2"},Et={class:"text-secondary"},jt={class:"text-gray-600"},Nt={class:"font-bold text-gray-600"},Bt={class:"text-green-600 font-semibold"},At={class:"flex items-center px-8 py-4 bg-gray-50 border-t border-gray-100"},Vt={class:"ml-auto flex gap-2"},Ut={key:0},Lt={class:"flex justify-end space-x-3 p-4"};function Ot(I,l,b,e,ue,v){return y(),ye(e.AppLayout,{title:"Stall Types"},{header:q(()=>[...l[8]||(l[8]=[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Stall Types ",-1)])]),default:q(()=>{var _,D,C,M,P,p,T,a,m,g,F,s,ae,le,E,se,j,re,ne,N,oe,ie,B,A,V,U,L,O,z,G,J,H,X,K,Q,W,Y,n,u,i,r,d,w,Z,$;return[t("h1",Xe,[c(e.Link,{class:"text-primary hover:text-secondary",href:"/my-rentals/market-volante"},{default:q(()=>[...l[9]||(l[9]=[x("Market Volante",-1)])]),_:1}),l[10]||(l[10]=t("span",{class:"text-secondary font-medium"},"/",-1)),x(" "+f(e.titlePage()),1)]),t("div",Ke,[t("div",Qe,[!e.checkIfEdit()&&!e.checkIfReupload()?(y(),h("div",We,[t("div",Ye,[t("div",{class:R(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===1?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[11]||(l[11]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5.121 17.804A7.968 7.968 0 0112 15c1.933 0 3.683.69 5.121 1.804M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)])],2),t("span",{class:R(["mt-2 text-sm",e.step===1?"text-primary font-semibold":"text-gray-400"])},"Vendor Info",2)]),t("div",{class:R(["flex-1 border-t-2 mx-2",e.step>1?"border-primary":"border-gray-200"])},null,2),t("div",Ze,[t("div",{class:R(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===2?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[12]||(l[12]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h10M7 11h10M7 15h6M5 5v14h14V5H5z"})],-1)])],2),t("span",{class:R(["mt-2 text-sm",e.step===2?"text-primary font-semibold":"text-gray-400"])},"Requirements",2)]),t("div",{class:R(["flex-1 border-t-2 mx-2",e.step>2?"border-primary":"border-gray-200"])},null,2),t("div",$e,[t("div",{class:R(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===3?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[13]||(l[13]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"32",height:"32"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 6h13M8 12h13M8 18h13M3 6h.01M3 12h.01M3 18h.01M21 21l-6-6"})],-1)])],2),t("span",{class:R(["mt-2 text-sm",e.step===3?"text-primary font-semibold":"text-gray-400"])},"Rental Agreement",2)]),t("div",et,[t("div",{class:R(["flex items-center justify-center w-12 h-12 rounded-full border-2",e.step===4?"bg-primary text-white border-primary":"border-gray-300 text-gray-400"])},[...l[14]||(l[14]=[t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",width:"32",height:"32"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4M4 6h16M4 12h16M4 18h16"})],-1)])],2),t("span",{class:R(["mt-2 text-sm",e.step===4?"text-primary font-semibold":"text-gray-400"])},"Finish Application",2)])])):k("",!0),t("form",{onSubmit:l[6]||(l[6]=be(o=>e.checkIfEdit()||e.checkIfReupload()?e.update():e.nextButton(),["prevent"]))},[!e.checkIfReupload()&&(e.step===1||e.checkIfEdit())?(y(),h("div",tt,[t("div",at,[t("div",lt,[c(e.InputLabel,{for:"Business Name",value:"Business Name"}),c(e.TextInput,{id:"business_name",modelValue:e.form.business_name,"onUpdate:modelValue":l[0]||(l[0]=o=>e.form.business_name=o),type:"text",class:"mt-1 block w-full",required:"",autofocus:"",autocomplete:"business_name"},null,8,["modelValue"]),c(e.InputError,{class:"mt-2",message:(D=(_=e.form)==null?void 0:_.errors)==null?void 0:D.business_name},null,8,["message"])])]),t("div",st,[t("div",rt,[c(e.InputLabel,{for:"Add ons",value:"Bulbs"}),c(e.TextInput,{id:"bulbs",modelValue:e.form.bulb,"onUpdate:modelValue":l[1]||(l[1]=o=>e.form.bulb=o),type:"number",class:"mt-1 block w-full",autofocus:"",autocomplete:"bulbs"},null,8,["modelValue"]),c(e.InputError,{class:"mt-2",message:(M=(C=e.form)==null?void 0:C.errors)==null?void 0:M.bulb},null,8,["message"])])]),t("div",nt,[t("div",ot,[t("div",it,[c(e.Map,{"stalls-data":e.mapTablesToGeoJSON(b.stallTypes),"scope-data":e.scopeData,center:[13.965601,121.527501],zoom:20,height:"500px",disabled:e.checkIfEdit(),onStallClick:e.onStallSelect},null,8,["stalls-data","scope-data","disabled"])]),c(e.InputError,{class:"mt-2",message:(p=(P=e.form)==null?void 0:P.errors)==null?void 0:p.stall_id},null,8,["message"])])]),e.selectedStall?(y(),h("div",dt,[t("div",ut,[t("div",mt,[l[18]||(l[18]=t("h2",{class:"text-lg font-bold mb-2 text-secondary"},"Transient Details",-1)),t("p",null,[l[15]||(l[15]=t("strong",null,"Name:",-1)),x(" "+f((T=e.selectedStall)==null?void 0:T.name),1)]),t("p",null,[l[16]||(l[16]=t("strong",null,"Category:",-1)),x(" "+f((m=(a=e.selectedStall)==null?void 0:a.categories)==null?void 0:m.name),1)]),t("p",null,[l[17]||(l[17]=t("strong",null,"Description:",-1)),x(" "+f((F=(g=e.selectedStall)==null?void 0:g.categories)==null?void 0:F.description),1)])])])])):k("",!0)])):k("",!0),e.step===2||e.checkIfReupload()?(y(),h("div",ct,[c(e.DocumentUpload,{requiredDocs:(s=b.requirements)==null?void 0:s.volante_new,files:e.localFileReq,"onUpdate:files":l[2]||(l[2]=o=>e.localFileReq=o)},null,8,["requiredDocs","files"]),c(e.InputError,{class:"mt-2",message:e.form.errors.requirements},null,8,["message"])])):k("",!0),!e.checkIfEdit()&&!e.checkIfReupload()?(y(),h("div",ft,[e.step===3?(y(),h("div",gt,[l[19]||(l[19]=t("h2",{class:"text-lg font-bold text-secondary mb-2"}," Please review the rental agreement below and upload signature: ",-1)),c(e.PdfMonitor,{pdfUrl:"/sample.pdf"}),c(e.SingleImageUpload,{modelValue:e.signature,"onUpdate:modelValue":l[3]||(l[3]=o=>e.signature=o),width:120,height:60,files:e.localFileSignature,"onUpdate:files":l[4]||(l[4]=o=>e.localFileSignature=o)},null,8,["modelValue","files"])])):k("",!0),e.step===4?(y(),h("div",pt,[l[25]||(l[25]=t("h2",{class:"text-lg font-bold text-secondary mb-2"}," Summary: ",-1)),l[26]||(l[26]=t("div",{class:"flex items-center justify-between"},null,-1)),t("div",vt,[t("div",yt,[t("div",bt,f(e.initials),1),t("span",xt,f((se=(E=(le=(ae=I.$page)==null?void 0:ae.props)==null?void 0:le.auth)==null?void 0:E.user)!=null&&se.status?"Active":"Not Active"),1)]),t("div",ht,[t("h2",_t,f(e.fullName((ne=(re=(j=I.$page)==null?void 0:j.props)==null?void 0:re.auth)==null?void 0:ne.user)),1),t("p",wt,[l[20]||(l[20]=x(" Email: ",-1)),t("a",{href:"mailto:"+((B=(ie=(oe=(N=I.$page)==null?void 0:N.props)==null?void 0:oe.auth)==null?void 0:ie.user)==null?void 0:B.email),class:"text-blue-600 hover:underline"},f((U=(V=(A=I.$page)==null?void 0:A.props)==null?void 0:V.auth)==null?void 0:U.user.email),9,kt)]),t("p",St,"Mobile: "+f((z=(O=(L=I.$page)==null?void 0:L.props)==null?void 0:O.auth)==null?void 0:z.user.mobile),1)])]),t("div",qt,[t("div",null,[l[21]||(l[21]=t("h3",{class:"font-semibold text-secondary"},"Stall Details",-1)),t("p",Rt,"Slot Name: "+f((G=e.selectedStall)==null?void 0:G.name),1),t("p",It,"Size: "+f((J=e.selectedStall)!=null&&J.size?`${(X=(H=e.selectedStall)==null?void 0:H.size)==null?void 0:X.length}X${(Q=(K=e.selectedStall)==null?void 0:K.size)==null?void 0:Q.width} `:"-"),1),t("p",Ct,"Birthday: "+f(e.formatDateShort((n=(Y=(W=I.$page)==null?void 0:W.props)==null?void 0:Y.auth)==null?void 0:n.user.birthday)),1),t("p",Mt,"Address: "+f((r=(i=(u=I.$page)==null?void 0:u.props)==null?void 0:i.auth)==null?void 0:r.user.address),1)]),t("div",null,[l[22]||(l[22]=t("h3",{class:"font-semibold text-secondary"},"Category",-1)),t("p",Pt,f((d=e.selectedStall)==null?void 0:d.categories.name),1)])]),t("div",Tt,[l[24]||(l[24]=t("h3",{class:"font-semibold text-secondary"},"Payment Details",-1)),t("ul",Ft,[(y(!0),h(Re,null,Ie((w=b.total_payments)==null?void 0:w.breakdown,(o,ee)=>(y(),h("li",{key:ee,class:"flex justify-between items-center px-3 py-2 text-sm"},[t("div",Dt,[t("span",null,[t("strong",Et,f(o!=null&&o.size?`• ${o==null?void 0:o.type}(${o.size}): `:`• ${o==null?void 0:o.type}: `),1),t("span",jt,f(e.formatAmount(o==null?void 0:o.amount)),1)])])]))),128))]),t("p",Nt,[l[23]||(l[23]=x(" Calculated Monthly Payment: ",-1)),t("span",Bt,f(e.formatAmount((Z=b.total_payments)==null?void 0:Z.total)),1)])])])):k("",!0)])):k("",!0),t("div",At,[c(e.Link,{href:e.checkIfEdit()?`/my-rentals/market-volante/${($=b.volanteRental)==null?void 0:$.id}`:"/my-rentals/market-volante",class:"text-red-600 hover:underline",tabindex:"-1"},{default:q(()=>[...l[27]||(l[27]=[x("Cancel",-1)])]),_:1},8,["href"]),t("div",Vt,[!e.checkIfEdit()&&!e.checkIfReupload()?(y(),h("div",Ut,[e.step>1?(y(),h("button",{key:0,type:"button",class:"px-4 py-2 mr-2 rounded-md bg-gray-200 hover:bg-gray-300",onClick:l[5]||(l[5]=o=>e.step--)}," Back ")):k("",!0),e.step<4?(y(),h("button",{key:1,type:"button",class:"px-4 py-2 rounded-md bg-primary text-white hover:bg-secondary",onClick:e.nextButton},f(e.step===3?"Agree":"Next"),1)):k("",!0)])):k("",!0),e.step===4||e.checkIfEdit()||e.checkIfReupload()?(y(),ye(e.LoadingButton,{key:1,loading:e.form.processing,class:"bg-primary ml-auto",type:"submit"},{default:q(()=>[...l[28]||(l[28]=[x(" Submit ",-1)])]),_:1},8,["loading"])):k("",!0)])])],32)])]),c(e.ConfirmationModal,{show:e.isSubmit,onClose:e.closeSubmit},{title:q(()=>[...l[29]||(l[29]=[x(" Confirm ",-1)])]),content:q(()=>[...l[30]||(l[30]=[t("div",{class:"space-y-4 p-4"},[t("p",{class:"text-gray-700 text-sm md:text-base"}," Do you confirm your intention to submit this request? Please submit the duly accomplished agreement form, downloaded after this process, to the Office of Public Market. ")],-1)])]),footer:q(()=>[t("div",Lt,[c(e.SecondaryButton,{onClick:e.closeSubmit},{default:q(()=>[...l[31]||(l[31]=[x(" Cancel ",-1)])]),_:1}),t("form",{onSubmit:l[7]||(l[7]=be(o=>e.checkIfRenewal()?e.renewals():e.submit(),["prevent"]))},[c(e.LoadingButton,{class:"bg-green-600 text-white ml-2 px-4 py-2 rounded-md text-white hover:bg-green-700",onClick:e.submit,disabled:e.isGenerating},{default:q(()=>[...l[32]||(l[32]=[x(" Submit ",-1)])]),_:1},8,["disabled"]),c(e.Contract,{ref:"contractRef",src:"/sample.pdf",data:e.contractData,"field-map":e.fieldMap,"file-name":"contract-filled.pdf",signature:e.signature,class:"hidden"},null,8,["data","signature"])],32)])]),_:1},8,["show"])]}),_:1})}const na=Je(He,[["render",Ot],["__file","Form.vue"]]);export{na as default};
